<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>哈基启的博客</title>
  <icon>https://www.gravatar.com/avatar/fcc6eac79d6ee92e7bcbafecf6c17d3b</icon>
  
  <link href="https://wqblog.xyz/atom.xml" rel="self"/>
  
  <link href="https://wqblog.xyz/"/>
  <updated>2026-02-27T01:50:11.194Z</updated>
  <id>https://wqblog.xyz/</id>
  
  <author>
    <name>Wenqi_S</name>
    <email>wq.shang.cn@gmail.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>新电脑恢复博客&amp;两台电脑写博客</title>
    <link href="https://wqblog.xyz/archives/24033515.html"/>
    <id>https://wqblog.xyz/archives/24033515.html</id>
    <published>2026-02-21T13:59:15.000Z</published>
    <updated>2026-02-27T01:50:11.194Z</updated>
    
    <content type="html"><![CDATA[<h2 id="新电脑恢复博客流程">新电脑恢复博客流程</h2><p>参照这篇 <a href="https://wqblog.xyz/archives/56986178.html">静态博客搭建 | 哈基启的博客</a> 把 1.1 环境部署章节做完</p><p>尽量保证下载的版本与之前电脑都一样</p><p><img src="https://wqblog-img.oss-cn-beijing.aliyuncs.com/image/20260221144655480.png" alt=""></p><p>然后找一个位置存放博客，右键鼠标打开 Git-Bash</p><ol><li><code>git clone https://github.com/Venqi-S/Blog_Source.git</code> 进入下载好的目录</li><li><code>npm install</code>  根据 <code>package.json</code> <code>package-lock.json</code>安装依赖生成 <code>node_modules/</code> （执行这步的原因是因为，我在 <code>.gitignore</code> 中加入了 <code>node_modules/</code> ，所以这个文件夹没有提交到远程仓库，需要在本地重新生成）</li></ol><h2 id="如何在两台电脑写博客">如何在两台电脑写博客</h2><ol><li>每次准备写之前先在博客根目录使用 <code>git pull</code> 用于从远程获取代码并合并本地的版本</li></ol><p>先从远程仓库获取最新的提交记录，然后将这些提交记录合并到你当前的分支中。</p><ol start="2"><li>然后正常 add &gt; commit &gt; push</li></ol><h2 id="注意事项">注意事项</h2><ol><li>什么时候需要运行 <code>npm install</code>  ？<ul><li>这台电脑第一次运行这个项目</li><li>当更改了一些依赖时（改了 package.json / package-lock.json）之后：建议在另一台电脑也跑一次</li><li>其他时候：不一定需要，但跑了也不会坏（只是花点时间）</li></ul></li><li>永远先“pull”再写</li><li>尽量不要两台电脑同时改一篇文章</li></ol>]]></content>
    
    
    <summary type="html">第一部分：假如换新电脑了，如何把 GitHub 的远程仓库下载到本地，恢复博客所需的环境。第二部分：如何在两台电脑上写博客。</summary>
    
    
    
    <category term="个人博客搭建与写作" scheme="https://wqblog.xyz/categories/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B8%8E%E5%86%99%E4%BD%9C/"/>
    
    
    <category term="hexo" scheme="https://wqblog.xyz/tags/hexo/"/>
    
    <category term="git" scheme="https://wqblog.xyz/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>Git指南</title>
    <link href="https://wqblog.xyz/archives/93ecec.html"/>
    <id>https://wqblog.xyz/archives/93ecec.html</id>
    <published>2026-02-15T19:09:10.000Z</published>
    <updated>2026-02-27T01:50:11.194Z</updated>
    
    <content type="html"><![CDATA[<h2 id="什么是-Git">什么是 Git</h2><p><img src="https://wqblog-img.oss-cn-beijing.aliyuncs.com/image/20260215220136958.png" alt=""></p><p>Git 是一个开源的分布式版本控制系统（Distributed Version Control System, DVCS）。</p><p>作用：把项目中文件的每一次变化都记录下来，并让你能随时回到任意一个历史状态，同时支持多人在不同环境下并行开发、最后再把各自的成果合并到一起。无论项目规模是几个人的小工具，还是成千上万文件的大型工程，Git 都能高效管理版本，并且在团队协作中保持清晰、可追溯的改动历史。</p><blockquote><p>安装 Git，<a href="https://git-scm.com/install/">Git - Install</a></p><p>安装好后，打开 GitBash，输入下面两条指令进行配置</p><p><code>git config --global user.name &lt;Your Name&gt;</code></p><p><code>git config --global user.email &lt;email@example.com&gt;</code></p><p>这两条指令是告诉 Git 每次提交的作者是谁，邮箱是什么</p><p><code>git config</code>命令的<code>--global</code>参数，用了这个参数，表示你这台机器上所有的Git仓库都会使用这个配置，当然也可以对某个仓库指定不同的用户名和Email地址。</p></blockquote><h2 id="创建仓库">创建仓库</h2><blockquote><p>版本库/仓库（repository）里面的所有文件都可以被 Git 管理起来，每个文件的修改，删除，Git 都能跟踪，以便任何时候都可以追踪历史，需要的时候也可以还原</p></blockquote><ol><li><p>新建一个新目录，右键空白处 Open Git Bash Here</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建 learngit 目录（这个目录是工作区）</span></span><br><span class="line"><span class="built_in">mkdir</span> learngit </span><br><span class="line"><span class="comment"># 进入这个文件夹</span></span><br><span class="line"><span class="built_in">cd</span> leangit</span><br><span class="line"><span class="comment"># 显示当前路径</span></span><br><span class="line"><span class="built_in">pwd</span> </span><br></pre></td></tr></table></figure></li><li><p>使用 <code>git init</code> 命令初始化仓库，把这个目录变成 Git 可以管理的仓库</p></li><li><p>可以点击查看隐藏的文件，一个 <code>.git</code> 文件夹已经创建好</p><p>也可以使用 <code>ls -ah</code> 命令查看 <code>.git</code> 文件夹</p></li></ol><h3 id="把文件添加到本地仓库">把文件添加到本地仓库</h3><p>在 <code>learngit</code> 目录下创建一个 <code>readme.txt</code> 文件（建议所有文本编辑都使用 VS code，而不要使用 Windows 自带的记事本），内容如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Git is a version control system.</span><br><span class="line">Git is free software.</span><br></pre></td></tr></table></figure><p>将文件放入 Git 仓库，只需两步</p><ol><li><p>执行 <code>git add readme.txt</code> 命令，告诉 Git 把文件<strong>添加</strong>到暂存区（Staging Area / Index），没有任何显示，就对了</p></li><li><p>执行 <code>git commit -m &quot;***&quot;</code> 命令，告诉 Git 把文件<strong>提交</strong>到本地仓库（星号为这次提交的说明，不建议省略）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m <span class="string">&quot;wrote a readme file&quot;</span></span><br><span class="line">[master (root-commit) 1b0fd94] wrote a readme file</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 readme.txt</span><br></pre></td></tr></table></figure></li></ol><p>也可以一次修改多个文件，然后使用命令 <code>git add .</code> ，<code>.</code> 表示当前目录，所以这条命令表示：把当前目录及其子目录中所有修改（包括删除）过的文件、以及新创建的文件，全部加入暂存区。</p><p>或者分别添加到暂存区</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add file1.txt</span><br><span class="line">git add file2.txt file3.txt</span><br></pre></td></tr></table></figure><p>然后再执行 <code>git commit -m &quot;***&quot;</code></p><h2 id="Git-基本操作">Git 基本操作</h2><p>修改 <code>readme.txt</code> 文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Git is a distributed version control system.</span><br><span class="line">Git is free software.</span><br></pre></td></tr></table></figure><p>然后运行 <code>git status</code> 指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">        modified:   readme.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">&quot;git add&quot;</span> and/or <span class="string">&quot;git commit -a&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>git status</code> 指令告诉我们，当前状态：<code>readme.txt</code> 文件被修改过，但还没有提交到本地仓库</p><p>使用 <code>git diff readme.txt</code> 命令查看具体修改内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git diff readme.txt</span><br><span class="line">diff --git a/readme.txt b/readme.txt</span><br><span class="line">index 46d49bf..9247db6 100644</span><br><span class="line">--- a/readme.txt</span><br><span class="line">+++ b/readme.txt</span><br><span class="line">@@ -1,2 +1,2 @@</span><br><span class="line">-Git is a version control system.</span><br><span class="line">+Git is a distributed version control system.</span><br><span class="line"> Git is free software.</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>然后添加到 <code>git add readme.txt</code> 暂存区，再次查看当前状态 <code>git status</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">&quot;git restore --staged &lt;file&gt;...&quot;</span> to unstage)</span><br><span class="line">        modified:   readme.txt</span><br></pre></td></tr></table></figure><p>已加入暂存区、修改即将被提交，下一步运行 <code>git commit -m &quot;***&quot;</code>，然后 <code>git status</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure><p>Git 告诉我们没什么需要提交，工作目录是干净的</p><h3 id="版本回退">版本回退</h3><p>再次修改 <code>readme.txt</code> 文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Git is a distributed version control system.</span><br><span class="line">Git is free software distributed under the GPL.</span><br></pre></td></tr></table></figure><p>然后提交至仓库 add --&gt; commit</p><p>现在有三个版本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">版本1</span><br><span class="line">Git is a version control system.</span><br><span class="line">Git is free software.</span><br><span class="line">版本2</span><br><span class="line">Git is a distributed version control system.</span><br><span class="line">Git is free software.</span><br><span class="line">版本3</span><br><span class="line">Git is a distributed version control system.</span><br><span class="line">Git is free software distributed under the GPL.</span><br></pre></td></tr></table></figure><p>使用 <code>git log</code> 命令查看提交历史</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">commit de71edb4b817190c26fd43e0bdde6c0c0fd09b0f (HEAD -&gt; master)</span><br><span class="line">Author: Wenqi &lt;wq.shang.cn@gmail.com&gt;</span><br><span class="line">Date:   Fri Feb 20 19:20:43 2026 +0800</span><br><span class="line"></span><br><span class="line">    append GPL</span><br><span class="line"></span><br><span class="line">commit 29a7a611056d15a2ea259d4ce5593a1cf6a588b0</span><br><span class="line">Author: Wenqi &lt;wq.shang.cn@gmail.com&gt;</span><br><span class="line">Date:   Fri Feb 20 19:15:22 2026 +0800</span><br><span class="line"></span><br><span class="line">    add distributed</span><br><span class="line"></span><br><span class="line">commit 1b0fd94bce91cb42c05469e23eb16ad6ead1d8c6</span><br><span class="line">Author: Wenqi &lt;wq.shang.cn@gmail.com&gt;</span><br><span class="line">Date:   Fri Feb 20 17:16:09 2026 +0800</span><br><span class="line"></span><br><span class="line">    wrote a readme file</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>也可以加上 <code>--pretty=oneline</code> 简化输出信息，<code>git log --pretty=oneline</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --pretty=oneline</span><br><span class="line">de71edb4b817190c26fd43e0bdde6c0c0fd09b0f (HEAD -&gt; master) append GPL</span><br><span class="line">29a7a611056d15a2ea259d4ce5593a1cf6a588b0 add distributed</span><br><span class="line">1b0fd94bce91cb42c05469e23eb16ad6ead1d8c6 wrote a readme file</span><br></pre></td></tr></table></figure><p>假如想把 <code>append GPL</code> 版本退回到 <code>add distributed</code> 版本，使用 <code>git rest</code> 命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git reset 语法格式</span></span><br><span class="line">git reset [--soft | --mixed | --hard] [HEAD]</span><br><span class="line">--soft 回退到未提交状态</span><br><span class="line">--mixed 回退到已添加但未提交的状态</span><br><span class="line">--hard 回退到已提交状态</span><br><span class="line">不写的话默认 --mixed 一般使用 --hard</span><br><span class="line"></span><br><span class="line"><span class="comment"># 回退所有内容到上一个版本</span></span><br><span class="line">git reset HEAD^</span><br><span class="line"><span class="comment"># 回退到上上上一个版本</span></span><br><span class="line">git reset HEAD~3 或者 git reset HEAD^^^</span><br><span class="line"><span class="comment"># 回退 readme.txt 文件至上一个版本</span></span><br><span class="line">git reset HEAD^ readme.txt</span><br><span class="line"><span class="comment"># 回退到指定版本，此处的四个数字字母为 commit ID 的前几个，Git 会自动查找对应的版本，可以比四个多但不能比四个少</span></span><br><span class="line">git reset 1b0f</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看 readme.txt 文件</span></span><br><span class="line"><span class="built_in">cat</span> readme.txt</span><br></pre></td></tr></table></figure><p>运行 <code>git reset --hard 1b0f</code> 回退到 <code>wrote a readme file</code> 版本，然后 <code>git log</code> 查看提交历史</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span></span><br><span class="line">commit 1b0fd94bce91cb42c05469e23eb16ad6ead1d8c6 (HEAD -&gt; master)</span><br><span class="line">Author: Wenqi &lt;wq.shang.cn@gmail.com&gt;</span><br><span class="line">Date:   Fri Feb 20 17:16:09 2026 +0800</span><br><span class="line"></span><br><span class="line">    wrote a readme file</span><br></pre></td></tr></table></figure><p>此时仅剩下 <code>wrote a readme file </code> 版本的信息，若想返回到 <code>append GPL</code> 版本，翻找此版本对应的 commit ID (别关闭命令行窗口，如果关闭了可以使用 <code>git reflog</code> 来查看命令历史) 运行 <code>git reset --hard de71edb</code> ，然后就又恢复为 <code>append GPL</code> 版本了</p><h3 id="工作区和暂存区">工作区和暂存区</h3><p><strong>工作区（Working Directory）</strong>：是电脑里能看到的目录，如 <code>learngit</code> 文件夹</p><p><strong>暂存区（stage/index）</strong>：一般存放在 <code>.git</code> 目录下的index 文件（.git/index）中，所以把暂存区有时也叫作索引（index）。</p><p><strong>版本库（Repository）</strong>：工作区里的隐藏目录 <code>.git</code> ，这个不算工作区，是 Git 的版本库</p><p><strong>工作流程</strong>：<br><img src="https://wqblog-img.oss-cn-beijing.aliyuncs.com/image/20260221083007684.jpeg" alt=""></p><p>Git 版本库里有缓存区，还有 Git 自动创建的第一个分支 <code>master</code> ，以及指向<code>master</code> 的一个指针叫 <code>HEAD</code></p><p><code>git add</code> 将“文件修改”添加到暂存区，然后 <code>git commit</code> 提交更改，把暂存区的所有内容提交到当前分支。</p><h3 id="撤销修改">撤销修改</h3><ol><li><strong>当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时</strong>，使用 <code>git restore</code></li></ol><p>更改 <code>readme.txt</code> 文件，保存</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Git is a distributed version control system.</span><br><span class="line">Git is free software distributed under the GPL.</span><br><span class="line">Git has a mutable index called stage.</span><br><span class="line">Git tracks changes of files.</span><br><span class="line">My stupid boss still prefers SVN.</span><br></pre></td></tr></table></figure><p>运行 <code>git status</code> 查看当前状态</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>使用 <code>git restore readme.txt</code> 丢弃工作区的更改，让这个文件返回到最近一次 <code>git add</code> 和 <code>git commit</code> 时的状态</p><ol start="2"><li><strong>当你不但改乱了工作区某个文件的内容，还添加到了暂存区时，想丢弃修改</strong>，使用 <code>git restore --staged</code></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git add readme.txt</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">&quot;git restore --staged &lt;file&gt;...&quot;</span> to unstage)</span><br><span class="line">        modified:   readme.txt</span><br></pre></td></tr></table></figure><p>使用 <code>git restore --staged readme.txt</code> 把暂存区的修改撤销（unstage）<br>然后 <code>git restore readme.txt</code> 丢弃工作区的修改，文件恢复成未修改状态</p><h3 id="删除文件">删除文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个新的文本文件，然后随便写点内容，保存</span></span><br><span class="line"><span class="built_in">touch</span> newfile.txt</span><br><span class="line"></span><br><span class="line">git add newfile.txt</span><br><span class="line">git commit -m <span class="string">&quot;add a new file&quot;</span></span><br></pre></td></tr></table></figure><p>使用 <code>git rm</code> 命令将文件从暂存区和工作区中删除</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">rm</span> newfile.txt</span><br><span class="line"><span class="built_in">rm</span> <span class="string">&#x27;newfile.txt&#x27;</span></span><br></pre></td></tr></table></figure><p>确认删除 <code>git commit</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m <span class="string">&quot;delete newfile&quot;</span></span><br><span class="line">[master d788878] delete newfile</span><br><span class="line"> 1 file changed, 1 deletion(-)</span><br><span class="line"> delete mode 100644 newfile.txt</span><br></pre></td></tr></table></figure><p>如果删错了，并且已经执行了 <code>git rm</code> 则可以 <code>git restore --staged newfile.txt</code> 先把暂存区的修改撤销，然后 <code>git restore newfile.txt</code> 在撤销工作区的修改，文件就恢复了。</p><p><strong>注</strong>：从来没有被添加到版本库就被删除的文件，是无法恢复的！</p><h2 id="远程仓库">远程仓库</h2><h3 id="将电脑与-GitHub-建立连接">将电脑与 GitHub 建立连接</h3><p>打开 Git-Bash，运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &lt;你的用户名&gt;</span><br><span class="line">git config --global user.email &lt;你的邮箱&gt;</span><br><span class="line"></span><br><span class="line">e.g. 用户名和邮箱自己随便写，是用来推送的用户名和邮箱</span><br><span class="line">git config --global user.name Wenqi</span><br><span class="line">git config --global user.email wq.shang.cn@gmail.com</span><br></pre></td></tr></table></figure><p>运行 <code>git config -l</code> 检查是否配置成功</p><p>接着运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &lt;你的邮箱&gt;</span><br><span class="line"><span class="comment"># ssh-keygen     SSH 密钥生成工具，用来生成一对密钥：公钥和私钥</span></span><br><span class="line"><span class="comment"># -t rsa         -t = type，rsa表示使用RSA加密算法</span></span><br><span class="line"><span class="comment"># -C &lt;你的邮箱&gt;   -C = comment(注释)，通常写邮箱或用户名，这个注释不参与加密，只是标识用途</span></span><br><span class="line"><span class="comment"># 如果只写 ssh-keygen 则后面默认使用RSA加密算法</span></span><br><span class="line">e.g.</span><br><span class="line">ssh-keygen -t rsa -C wq.shang.cn@gmail.com</span><br></pre></td></tr></table></figure><p>一直按 Enter 键就可以了</p><p>两个密钥的默认位置在 <code>C:\Users\用户名</code> 文件夹下，需显示隐藏的项目，找到 <code>.ssh</code> 文件夹，里面有两个 <code>id_rsa</code> 文件</p><p><code>id_rsa</code>是私钥，不能泄露出去，<code>id_rsa.pub</code>是公钥，可以放心地告诉任何人</p><hr><p><strong>密钥用于此电脑连接至 GitHub</strong></p><p><strong>注：如果之前搭梯子生成过密钥，即 <code>.ssh</code> 文件夹，里面已经有两个 <code>id_rsa</code> 文件了，就不用再生成了</strong></p><hr><p>密钥生成之后，用 VS Code 打开公钥文件，全选复制里面的内容</p><p>登录 <a href="https://github.com/">GitHub</a></p><p>然后点右上角头像 &gt; Settings &gt; SSH and GPG keys &gt; New SSH key</p><p>Title 随便起名，Key Type 默认，Key 的内容为公钥文件里的内容，之后点 Add SSH key</p><h3 id="添加远程仓库">添加远程仓库</h3><p>登录 <a href="https://github.com/">GitHub</a> ，创建一个名字为 <code>learngit</code> 的公开仓库，其他设置默认</p><p>可以看到 GitHub 的提示<br><img src="https://wqblog-img.oss-cn-beijing.aliyuncs.com/image/20260221124226590.png" alt=""></p><p>在本地的 <code>learngit</code> 仓库下运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:Venqi-S/learngit.git</span><br></pre></td></tr></table></figure><p>添加后远程仓库的名字就是 <code>origin</code></p><p>然后运行 <code>git branch -M main</code> 将分支名更改为 <code>main</code></p><blockquote><p><a href="https://blog.csdn.net/2201_75798391/article/details/146115293">github中main分支和master分支有什么区别？为什么会出现两种分支_master和main-CSDN博客</a></p></blockquote><p>最后 <code>git push -u origin main</code> 把本地库的内容推送到远程仓库，实际上是把当前分支 main （改名之前是master）推送到远程</p><h3 id="删除（解绑）远程仓库">删除（解绑）远程仓库</h3><p>如果添加远程仓库时地址填写错了，或者不想和远程仓库建立连接了，可以使用 <code>git remote rm &lt;name&gt;</code> 命令</p><p>使用前可以使用 <code>git remote -v</code> 检查远程库信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git remote -v</span><br><span class="line">origin  git@github.com:Venqi-S/learngit.git (fetch)</span><br><span class="line">origin  git@github.com:Venqi-S/learngit.git (push)</span><br></pre></td></tr></table></figure><p>然后根据名字删除，如 <code>git remote rm origin</code> 这样就和远程仓库解绑了</p><h3 id="从远程仓库克隆">从远程仓库克隆</h3><p>进入一个远程库，找到远程库的地址</p><p><img src="https://wqblog-img.oss-cn-beijing.aliyuncs.com/image/20260221131847539.png" alt=""></p><p>在本地新建一个目录，右键鼠标打开 Git-Bash 输入 <code>git clone git@github.com:Venqi-S/learngit.git</code> ，远程库就下载到本地了</p><h2 id="自定义-Git">自定义 Git</h2><h3 id="忽略特殊文件">忽略特殊文件</h3><p>在工作区的根目录下运行 <code>touch .gitignore</code> ，把需要忽略的文件名/文件夹的命写进去</p><p>最后也提交到 Git 就完成了</p><h2 id="参考链接">参考链接</h2><ol><li><a href="https://liaoxuefeng.com/books/git/what-is-git/index.html">Git是什么 - Git教程 - 廖雪峰的官方网站</a></li><li><a href="https://www.runoob.com/git/git-tutorial.html">Git 教程 | 菜鸟教程</a></li><li><a href="https://www.runoob.com/manual/git-guide/">git 简明指南</a></li></ol>]]></content>
    
    
    <summary type="html">介绍了关于 Git 的一些基本指令和相关的基本概念</summary>
    
    
    
    <category term="Git" scheme="https://wqblog.xyz/categories/Git/"/>
    
    
    <category term="Git" scheme="https://wqblog.xyz/tags/Git/"/>
    
    <category term="Git-Bash" scheme="https://wqblog.xyz/tags/Git-Bash/"/>
    
  </entry>
  
  <entry>
    <title>个人博客的一些配置</title>
    <link href="https://wqblog.xyz/archives/790b978.html"/>
    <id>https://wqblog.xyz/archives/790b978.html</id>
    <published>2026-02-11T14:30:01.000Z</published>
    <updated>2026-02-27T01:50:11.194Z</updated>
    
    <content type="html"><![CDATA[<h2 id="个人博客的一些配置">个人博客的一些配置</h2><h3 id="Butterfly-主题配置">Butterfly 主题配置</h3><p>大部分可参考官方文档 <a href="https://butterfly.js.org/posts/21cfbf15/">Butterfly 文檔(一) 快速開始 | Butterfly</a></p><p>主题修改：直接修改官方的第一个文档中让在博客文件夹根目录下创建的<code>_config.butterfly.yml</code>文件就行</p><h4 id="写作模板的-Front-matter">写作模板的 Front-matter</h4><p>可直接修改 <code>scaffolds</code> 文件夹中的 <code>post</code> 文件，这样新建文章时就可以直接使用新模板</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">updated:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">description:</span><br><span class="line">top<span class="emphasis">_img: transparent</span></span><br><span class="line"><span class="emphasis">cover:</span></span><br><span class="line"><span class="emphasis">copyright:</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis"></span></span><br></pre></td></tr></table></figure><ul><li><p>updated 更新日期</p></li><li><p>tags 是标签，多个标签结构如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tags:</span><br><span class="line">- tag1</span><br><span class="line">- tag2</span><br></pre></td></tr></table></figure></li><li><p>categories 分类</p></li><li><p>description 文章的摘要</p></li><li><p>cover 文章的封面图片</p></li><li><p>copyright 文章版权，设成 false 是不加版权信息，空白就是加版权信息</p></li></ul><h4 id="设置-Local-Search">设置 Local Search</h4><p>可参考文档 <a href="https://github.com/wzpan/hexo-generator-search">wzpan/hexo-generator-search: A plugin to generate search data for Hexo.</a></p><p>在博客根目录运行 <code>npm install hexo-generator-search --save</code></p><p>然后在博客的配置文件 <code>_config.yml</code> 中最后加入</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">1000</span></span><br><span class="line">  <span class="comment"># 后两条和官方文档不一样，我参照第二个视频改的</span></span><br></pre></td></tr></table></figure><p>其他就按照官方文档配置</p><h4 id="Butterfly-主题-TOC-目录一级标题无法跳转的-BUG">Butterfly 主题 TOC 目录一级标题无法跳转的 BUG</h4><p>就直接不在文章里使用一级标题，因为文章标题就是 h1 标签。</p><h4 id="加载博客时会有蓝色背景一闪，解决方法">加载博客时会有蓝色背景一闪，解决方法</h4><p>在主题文件夹中 <code>themes\butterfly\source\css\_layout\head.styl</code> 找到这个文件，删除掉 <code> background-color: $light-blue</code> 就好了</p><h3 id="链接持久化">链接持久化</h3><p>在博客根目录运行 <code>npm install hexo-abbrlink --save</code></p><p>然后配置 <code>_config.yml</code> 文件，在<code>permalink</code>下添加这些（<code>permalink</code>在<code>url</code>下面）</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># permalink </span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">archives/:abbrlink.html</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line"><span class="attr">alg:</span> <span class="string">crc32</span> <span class="comment"># 算法 crc16(default) and crc32</span></span><br><span class="line"><span class="attr">rep:</span> <span class="string">hex</span> <span class="comment"># 进制 dec(default) and hex</span></span><br></pre></td></tr></table></figure><h3 id="搜索引擎收录（Google）">搜索引擎收录（Google）</h3><ol><li>安装 sitemap ，之前博客搭建已经安装过了，如果没安装请运行</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><ol start="2"><li>然后配置 <code>_config.yml</code> 文件，url 为 <code>https://自己的域名</code> ，并添加上</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br></pre></td></tr></table></figure><ol start="3"><li>进入网站<a href="https://search.google.com/search-console/welcome">欢迎使用 Google Search Console</a>，输入网址前缀 <code>https://自己的域名</code></li><li>下载 html 文件至 source 文件夹内，上传至仓库</li><li>搜索  <code>https://自己的域名/刚下的文件名.html</code> ，能搜索到就正确了</li><li>返回 Google Search Console 界面点击验证</li></ol><blockquote><p>如果第一种方法一直验证失败也可以选择其他方法。失败原因可能是 html 文件被主题渲染了而不是原样输出</p><p>这里我选择最后一种 DNS TXT 验证，Google Search Console 会自动跳转到 Cloudflare 界面添加记录，很简单</p></blockquote><ol start="7"><li>返回 Google Search Console 进入资源管理界面，选择左侧站点地图（Sitemaps）</li><li>输入 <code>sitemap.xml</code> 点击提交</li></ol><h4 id="一些失败原因">一些失败原因</h4><h5 id="状态显示无法抓取-显示没有-robots-txt-文件">状态显示无法抓取 - 显示没有 robots.txt 文件</h5><p>Google Search Console 进入资源管理界面，选择左侧设置查看抓取失败原因</p><p>显示没有 robots.txt 文件</p><p><strong>解决方法：</strong></p><ol><li><p>将 cloudflare 中 AI Crawl Control &gt; Robots.txt &gt; Cloudflare managed 关闭</p></li><li><p>新建文件 <code>source/robots.txt</code> 内容如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Allow: /</span><br><span class="line"></span><br><span class="line">Sitemap: https://你的博客域名/sitemap.xml</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>重新上传，等待成功</p></li><li><p>还是不行，就谷歌搜索看看能否解决问题（或者换一个.com的域名），或者等一个月左右再查看</p></li></ol><h2 id="参考链接">参考链接</h2><ul><li><p><a href="https://www.bilibili.com/video/BV1Ko4y1S7mv/?share_source=copy_web&amp;vd_source=6b4b78bf8c8d1209d013b4df59f35fd8">使用Hexo搭建个人博客手摸手教学(10)|ButterFly主题配置一</a></p></li><li><p><a href="https://www.bilibili.com/video/BV1Rg41177pX/?share_source=copy_web&amp;vd_source=6b4b78bf8c8d1209d013b4df59f35fd8">使用Hexo搭建个人博客手摸手教学(11)|butterfly主题配置二</a></p></li><li><p><a href="https://www.bilibili.com/video/BV1W34y1o7yK/?share_source=copy_web&amp;vd_source=6b4b78bf8c8d1209d013b4df59f35fd8">使用Hexo搭建个人博客手摸手教学(17)|博客SEO优化引擎收录</a></p></li><li><p><a href="https://butterfly.js.org/posts/dc584b87/">Butterfly 文檔(二) 主題頁面 | Butterfly</a></p></li><li><p><a href="https://butterfly.js.org/posts/4aa8abbe/">Butterfly 文檔(三) 主題配置 | Butterfly</a></p></li><li><p><a href="https://blog.musnow.top/posts/3595872826/index.html">【博客】hexo配置sitemap和百度|必应|谷歌收录 | 慕雪的寒舍</a></p></li><li><p><a href="https://www.pw0n.com/posts/b4e39267.html">Hexo博客Google Search Console抓取sitemap问题解决方案 | Pw0n’s blog</a></p></li><li><p><a href="https://answers.fuyeor.com/zh-hans/question/5841">Xyz 域名是不是很难收录？ « Ф 问答</a></p></li><li><p><a href="https://ask.csdn.net/questions/8328129">谷歌无法读取此站点地图_运维-CSDN问答</a></p></li></ul>]]></content>
    
    
    <summary type="html">使用butterfly主题对博客进行一些配置</summary>
    
    
    
    <category term="个人博客搭建与写作" scheme="https://wqblog.xyz/categories/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B8%8E%E5%86%99%E4%BD%9C/"/>
    
    
    <category term="hexo" scheme="https://wqblog.xyz/tags/hexo/"/>
    
    <category term="butterfly" scheme="https://wqblog.xyz/tags/butterfly/"/>
    
  </entry>
  
  <entry>
    <title>博客写作流程</title>
    <link href="https://wqblog.xyz/archives/68bbb010.html"/>
    <id>https://wqblog.xyz/archives/68bbb010.html</id>
    <published>2026-02-05T10:27:41.000Z</published>
    <updated>2026-02-27T01:50:11.194Z</updated>
    
    <content type="html"><![CDATA[<h2 id="博客写作流程">博客写作流程</h2><h3 id="常用的-git-指令">常用的 git 指令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看当前状态，改了哪些文件、有没有没 add 的、分支是否干净</span></span><br><span class="line">git status </span><br><span class="line"></span><br><span class="line"><span class="comment">#看当前远程仓库地址</span></span><br><span class="line">git remote -v</span><br><span class="line"></span><br><span class="line"><span class="comment">#测试是否能连上远程仓库</span></span><br><span class="line">git ls-remote</span><br><span class="line"></span><br><span class="line"><span class="comment">#测试 SSH 是否通</span></span><br><span class="line">ssh -T git@github.com</span><br><span class="line"></span><br><span class="line"><span class="comment">#修改远程仓库地址（比如 https ↔ ssh）</span></span><br><span class="line">git remote set-url origin &lt;远程仓库地址&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看 ignore 是否生效</span></span><br><span class="line">git check-ignore -v public</span><br><span class="line"></span><br><span class="line"><span class="comment">#把已推送到GitHub仓库的文件删除，本地不会删除</span></span><br><span class="line">git <span class="built_in">rm</span> -r --cached &lt;文件夹名&gt; &lt;文件名&gt;</span><br><span class="line">git commit -m <span class="string">&quot;commit 备注&quot;</span></span><br><span class="line">git push</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Front-matter">Front-matter</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">updated:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">description:</span><br><span class="line">top<span class="emphasis">_img: transparent</span></span><br><span class="line"><span class="emphasis">cover:</span></span><br><span class="line"><span class="emphasis">copyright:</span></span><br><span class="line"><span class="emphasis">---</span></span><br></pre></td></tr></table></figure><p>填写好标签，分类，摘要，文章封面，是否加版权信息</p><h3 id="hexo-文章指令">hexo 文章指令</h3><h4 id="生成新文章">生成新文章</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &lt;文章名&gt; <span class="comment"># 默认生成的是 post</span></span><br></pre></td></tr></table></figure><p>此时会在博客文件夹 <code>source\_posts</code> 文件夹下生成一个新 markdown 文件，编写这个文件就行了</p><p>完成后正常使用 git 提交就可以了 add &gt; commit &gt; push</p><h4 id="修改文章">修改文章</h4><p>直接修改博客文件夹 <code>source\_posts</code> 文件夹里的文章，修改好后</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add <span class="built_in">source</span>/_posts/×××.md</span><br><span class="line">git commit -m <span class="string">&quot;update:xxx&quot;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><h4 id="删除文章">删除文章</h4><p>直接删除博客文件夹 <code>source\_posts</code> 文件夹里的文章，然后</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;remove:xxx&quot;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">博客写作一般流程和常用的 git 指令</summary>
    
    
    
    <category term="个人博客搭建与写作" scheme="https://wqblog.xyz/categories/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B8%8E%E5%86%99%E4%BD%9C/"/>
    
    
    <category term="hexo" scheme="https://wqblog.xyz/tags/hexo/"/>
    
    <category term="git" scheme="https://wqblog.xyz/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>GitHub/Gitee&amp;PicGo图床搭建</title>
    <link href="https://wqblog.xyz/archives/f7ade587.html"/>
    <id>https://wqblog.xyz/archives/f7ade587.html</id>
    <published>2026-02-04T09:44:10.000Z</published>
    <updated>2026-02-15T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="GitHub-PicGo图床搭建">GitHub&amp;PicGo图床搭建</h2><h3 id="软件下载-新建-GitHub-仓库">软件下载 &amp; 新建 GitHub 仓库</h3><ul><li>下载<a href="https://github.com/Molunerfinn/PicGo/releases">PicGo</a></li><li>访问<a href="https://github.com/">GitHub</a>，新建一个公开仓库</li><li>点击右上角头像 &gt; settings &gt; Developer settings &gt; Person access tokens &gt; Tokens (classic) &gt; Generate new token (classic)<br>1. Expiration(到期时间) &gt; No Expiration<br>2. 勾选上 repo<br>3. <strong>注意所有生成的令牌都不要删，以防误删哪个，避免麻烦</strong></li><li>复制这个 Token 粘贴进 PicGo &gt; 图床设置 &gt; GitHub &gt; 设定Token<ol><li>其中仓库名就为刚刚新建的仓库名格式为<code>用户名/仓库名</code></li><li>分支写 main 就行</li></ol></li></ul><h3 id="Typora-配置">Typora 配置</h3><p>点击 &gt; 文件 &gt; 偏好设置 &gt; 图像</p><p>配置如下</p><p><img src="https://raw.githubusercontent.com/Venqi-S/my_Blog_image/main/20260131171303356.png" alt=""></p><p>这样就可以直接把图片插入 Typora 中，PicGo 会自动上传至 GitHub 仓库</p><p><strong>注：</strong></p><ul><li><p>直接把图片插入 Typora ，图片会存到<code>C:\Users\用户名\AppData\Roaming\Typora\typora-user-images</code>文件夹下，记得定时清理</p><p>也可以打开 PicGo 先粘贴进去然后复制 URL （粘贴进 PicGo 会自动复制 URL），再粘贴进 Typora 中就不会存到 C 盘了</p></li><li><p>不要勾选**为相对路径添加./**勾选了就不会自动上传，且有问题</p></li><li><p>[ ] 对网络位置的图片应用上述规则，如果还希望重新上传已托管在远程网站上的图像，也可以勾选此项</p></li><li><p>[ ] 允许根据 YAML 设置自动上传，是关于 Markdown 文档包含的 YAML front matter</p></li></ul><p><img src="https://raw.githubusercontent.com/Venqi-S/my_Blog_image/main/20260131173459561.png" alt="image-20260131173459533"></p><p>有这句话，并且勾选了该选项，则该文档会自动上传图片至 GitHub 仓库</p><p>也可以点击 &gt; 格式 &gt; 图像 &gt; 当插入本地图片时 &gt; 上传图片，这时 front matter 会自动出现在文档上方</p><p><img src="https://raw.githubusercontent.com/Venqi-S/my_Blog_image/main/20260131173953288.png" alt="image-20260131173953166"></p><h2 id="Gitee-PicGo图床搭建">Gitee&amp;PicGo图床搭建</h2><p>与 GitHub 类似只不过需要在 PicGo 中下载 GitHub-plus 插件（在软件中下载，关掉梯子）</p><p>如果搜索不到插件，可参考第三个链接手动安装插件</p><p>其余操作可参考第四个链接</p><blockquote><p>现在 Gitee 不支持图床功能了，可以尝试阿里云</p><p>参考链接</p><ul><li><p><a href="https://blog.csdn.net/snowman12138/article/details/136347079">解决Gitee图床不显示问题_解决gitee 图片无法显示-CSDN博客</a></p></li><li><p><a href="https://developer.aliyun.com/article/1465963">手把手教你搭建阿里云图床(PicGo+Typora+阿里云OSS)，新手小白一看就会-阿里云开发者社区</a></p></li></ul></blockquote><h2 id="图床迁移">图床迁移</h2><ol><li>先将原仓库的图片下载到本地</li><li>然后上传到新的仓库</li><li>在博客中原来的图片地址批量替换为新的图片地址</li></ol><blockquote><p><a href="https://www.fwhyy.com/2023/01/i-switched-the-graph-bed-to-alibaba-cloud-oss">我将图床换到了阿里云 OSS - 冯威的博客</a></p></blockquote><h2 id="参考链接">参考链接</h2><ol><li><p><a href="https://support.typora.io/Upload-Image/#upload-automatically-when-insert-images">Upload Images - Typora Support</a></p></li><li><p><a href="https://www.bilibili.com/video/BV1fNNreEEDi/?share_source=copy_web&amp;vd_source=6b4b78bf8c8d1209d013b4df59f35fd8">【大学生提高课】3 hexo与hugo博客搭建与github自动化推送和服务器推送</a></p></li><li><p><a href="https://blog.wangms.org/other/07_PicGo%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6.html#_2-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87">PicGo手动安装插件 | wangms-blog</a></p></li><li><p><a href="https://juejin.cn/post/7535651734142369830">使用码云 Gitee+PicGo来搭建个人图床（目前推荐使用OSS存储服务）教你用Gitee+PicGo在5分钟内搭建免 - 掘金</a></p></li></ol>]]></content>
    
    
    <summary type="html">使用 PicGo 搭配 GitHub/Gitee 仓库自建图床，并在 Typora 中实现高效、稳定图片管理的实践过程。</summary>
    
    
    
    <category term="个人博客搭建与写作" scheme="https://wqblog.xyz/categories/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B8%8E%E5%86%99%E4%BD%9C/"/>
    
    
    <category term="PicGo" scheme="https://wqblog.xyz/tags/PicGo/"/>
    
    <category term="Typora" scheme="https://wqblog.xyz/tags/Typora/"/>
    
    <category term="GitHub" scheme="https://wqblog.xyz/tags/GitHub/"/>
    
    <category term="Gitee" scheme="https://wqblog.xyz/tags/Gitee/"/>
    
  </entry>
  
  <entry>
    <title>静态博客搭建</title>
    <link href="https://wqblog.xyz/archives/56986178.html"/>
    <id>https://wqblog.xyz/archives/56986178.html</id>
    <published>2026-02-03T19:10:10.000Z</published>
    <updated>2026-02-27T01:50:11.194Z</updated>
    
    <content type="html"><![CDATA[<h2 id="博客搭建">博客搭建</h2><h3 id="环境准备">环境准备</h3><h4 id="Git-安装">Git 安装</h4><ol><li>下载网址 <a href="https://git-scm.com/downloads">Git</a></li><li>打开命令提示符(CMD)验证安装版本:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure><h4 id="Node-js-安装">Node.js 安装</h4><ol><li>下载网址 <a href="https://nodejs.org/zh-cn/about/previous-releases">Node.js — Node.js 版本</a> ，找到需要下载的对应版本</li><li>打开命令提示符(CMD)验证安装版本:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure><ol start="3"><li>给标准包管理器 npm 换源:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npmmirror.com</span><br></pre></td></tr></table></figure><h4 id="Hexo-安装">Hexo 安装</h4><p><a href="https://hexo.io/zh-cn/">Hexo 官网</a></p><p>打开安装好的 Git-Bash 运行，(<em>Git-Bash 中用右键鼠标进行复制粘贴</em> )</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line"><span class="comment"># 安装指定版本hexo</span></span><br><span class="line">npm install -g hexo-cli@版本号</span><br><span class="line">e.g.</span><br><span class="line">npm install -g hexo-cli@4.3.0</span><br></pre></td></tr></table></figure><p>安装结束后，运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p>验证安装是否成功</p><h4 id="GitHub-部署">GitHub 部署</h4><p>打开 Git-Bash，运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &lt;你的用户名&gt;</span><br><span class="line">git config --global user.email &lt;你的邮箱&gt;</span><br><span class="line"></span><br><span class="line">e.g. 用户名和邮箱自己随便写，是用来推送的用户名和邮箱</span><br><span class="line">git config --global user.name Wenqi</span><br><span class="line">git config --global user.email wq.shang.cn@gmail.com</span><br></pre></td></tr></table></figure><p>运行 <code>git config -l</code> 检查是否配置成功</p><p>接着运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &lt;你的邮箱&gt;</span><br><span class="line"><span class="comment"># ssh-keygen     SSH 密钥生成工具，用来生成一对密钥：公钥和私钥</span></span><br><span class="line"><span class="comment"># -t rsa         -t = type，rsa表示使用RSA加密算法</span></span><br><span class="line"><span class="comment"># -C &lt;你的邮箱&gt;   -C = comment(注释)，通常写邮箱或用户名，这个注释不参与加密，只是标识用途</span></span><br><span class="line"><span class="comment"># 如果只写 ssh-keygen 则后面默认使用RSA加密算法</span></span><br><span class="line">e.g.</span><br><span class="line">ssh-keygen -t rsa -C wq.shang.cn@gmail.com</span><br></pre></td></tr></table></figure><p>一直按 Enter 键就可以了</p><p>密钥的默认位置在 <code>C:\Users\用户名</code> 文件夹下，需显示隐藏的项目，找到 <code>.ssh</code> 文件夹，里面有两个 <code>id_rsa</code> 文件，一个是公钥，一个是私钥</p><p><strong>密钥用于此电脑连接至 GitHub</strong></p><p><strong>注：如果之前搭梯子生成过密钥，即 <code>.ssh</code> 文件夹，里面已经有两个 <code>id_rsa</code> 文件了，就不用再生成了</strong></p><hr><p>密钥生成之后，用 VSCode 或记事本打开公钥文件，全选复制里面的内容</p><p>登录 <a href="https://github.com/">GitHub</a></p><p>然后点右上角头像 &gt; Settings &gt; SSH and GPG keys &gt; New SSH key</p><p>Title 随便起名，Key Type 默认，Key 的内容为公钥文件里的内容，之后点 Add SSH key</p><p>运行以下代码测试连接</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>由于第一次连接，需要输入 yes 确认连接</p><h3 id="新建-Hexo-项目">新建 Hexo 项目</h3><p>新建并进入一个新文件夹，右键鼠标Open Git Bash here，运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">hexo init &lt;folder&gt;</span><br><span class="line"><span class="comment"># 进入刚创建好的文件夹</span></span><br><span class="line"><span class="built_in">cd</span> &lt;folder&gt;</span><br><span class="line"><span class="comment"># 安装依赖</span></span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line">e.g.</span><br><span class="line">hexo init Wenqi_Blog</span><br><span class="line"><span class="built_in">cd</span> Wenqi_Blog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>Hexo 项目文件夹结构如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Wenqi_Blog/</span><br><span class="line">├── _config.yml        # 全局网站配置文件，定义站点标题、URL、目录结构等</span><br><span class="line">├── package.json       # 项目依赖与脚本管理文件</span><br><span class="line">├── scaffolds/         # 模板文件夹，存放创建文章、页面时使用的模板（archetypes）</span><br><span class="line">├── source/            # 网站内容文件夹</span><br><span class="line">│   ├── _drafts/       # 草稿文件夹，保存未发布的文章</span><br><span class="line">│   └── _posts/        # 文章文件夹，存放发布后的博客文章</span><br><span class="line">├── themes/            # 主题文件夹，可存放多个主题，激活时在 _config.yml 中指定</span><br><span class="line">└── public/            # 生成的静态文件目录（每次执行 hexo generate 时更新）</span><br></pre></td></tr></table></figure><p><strong>详细说明：</strong></p><ul><li><p><strong>_config.yml</strong></p><p>存放全局配置，例如站点信息、URL规则、分页设置等，是 Hexo 的核心配置文件</p></li><li><p><strong>package.json</strong></p><p>用于管理项目的依赖项和脚本命令，方便扩展和自动化构建</p></li><li><p><strong>scaffolds/</strong></p><p>内涵默认的文章和页面模板，可以根据需要修改或新增自定义模板</p></li><li><p><strong>source/</strong></p><p>所有博客内容的存放地，按照用途划分为草稿（drafts）和正式文章（posts）文件夹，也可以在该文件夹中创建图片、附件等资源文件夹</p></li><li><p><strong>themes/</strong></p><p>存放博客主题，每个主题包含独立的布局、样式及部分配置文件</p><p>安装主题后需在<code>_config.yml</code>中指定启用的主题名称</p></li><li><p><strong>public/</strong></p><p>每次生成静态站点文件时输出到此目录下，实际部署的即为该文件夹内容</p><p>若需预览效果，在<code>Wenqi_Blog</code>文件夹中，右击鼠标打开 GitBash 运行<code>hexo s</code>查看生成后的页面</p></li></ul><p>然后安装一些优化插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># SEO 优化</span></span><br><span class="line">npm install hexo-generator-sitemap --save <span class="comment"># 下载站点地图，方便搜索引擎收录</span></span><br><span class="line">npm install hexo-generator-feed --save <span class="comment"># 方便别人订阅你的博客</span></span><br></pre></td></tr></table></figure><p><strong>配置 Hexo 可参考<a href="https://hexo.io/zh-cn/docs/configuration">官方配置文档</a></strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成一个静态文件</span></span><br><span class="line">hexo g </span><br><span class="line"><span class="comment"># 启动服务器。默认情况下，访问网址为：http://localhost:4000/</span></span><br><span class="line">hexo s </span><br><span class="line"><span class="comment"># 这两句常用来测试</span></span><br></pre></td></tr></table></figure><p>在博客根目录下打开 GitBash ，输入<code>touch .gitignore</code>，复制下面内容</p><p>（<span style="color:#FF0000;"><strong>注意</strong></span>在博客根目录下创建<code>.txt</code>文件命名为<code>.gitignore</code>  &lt;— 这种方法容易出错，容易找不到<code>.gitignore</code>文件，就干脆别用)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># dependencies</span><br><span class="line">node_modules/</span><br><span class="line"></span><br><span class="line"># hexo build output</span><br><span class="line">public/</span><br><span class="line">.deploy_git/</span><br><span class="line"></span><br><span class="line"># hexo / search db</span><br><span class="line">db.json</span><br><span class="line"></span><br><span class="line"># system files</span><br><span class="line">.DS_Store</span><br></pre></td></tr></table></figure><p>因为部署是通过 GitHub Actions 自动部署，无需本地部署，只需要直接提交其他文件就行了，上面那些文件不用提交</p><p>可以在 GitBash 中输入<code>cat .gitignore</code>检查一下</p><h4 id="Hexo-主题安装">Hexo 主题安装</h4><p>可参考</p><ul><li><a href="https://github.com/jerryc127/hexo-theme-butterfly?tab=readme-ov-file">jerryc127/hexo-theme-butterfly: 🦋 A Hexo Theme: Butterfly</a></li><li><a href="https://butterfly.js.org/posts/21cfbf15/">Butterfly 文档（一） 快速开始 | Butterfly</a></li></ul><p><strong>注意要把博客源码提交到私人仓库并用GitHub Actions自动部署的话</strong></p><ol><li><p>删除主题文件夹里的<code>.git</code></p><p>执行<code>rm -rf themes/butterfly/.git</code></p></li><li><p><strong>每次更新主题的话记得删除</strong><code>.git</code><strong>避免报错</strong></p></li></ol><h3 id="托管到-GitHub">托管到 GitHub</h3><ul><li><p>创建一个<strong>私有仓库</strong>，用于储存博客源代码</p></li><li><p>创建一个<strong>公开仓库</strong>，用于显示博客</p></li><li><p>点击右上角头像 &gt; settings &gt; Developer settings &gt; Person access tokens &gt; Tokens (classic) &gt; Generate new token (classic)</p><ol><li>Expiration(到期时间) &gt; No Expiration</li><li>勾选上 repo 和 workflow</li><li><strong>注意所有生成的令牌都不要删，以防误删哪个，避免麻烦</strong></li></ol></li><li><p>复制这个令牌</p></li><li><p>在<strong>私有仓库</strong>(存源码的仓库)下 &gt; settings &gt; Secrets and variables &gt; Actions</p><p>名字随便起，Secret 中粘贴刚才复制到令牌，</p><p><strong>注意，Secret的名字用大写字母，可以有下划线</strong></p></li><li><p>返回<strong>私有仓库Code界面，并选择SSH协议</strong>，可以看到一些提示的指令</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#…or create a new repository on the command line</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;# BlogSource&quot;</span> &gt;&gt; README.md</span><br><span class="line">git init</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m <span class="string">&quot;first commit&quot;</span></span><br><span class="line">git branch -M main</span><br><span class="line">git remote add origin git@github.com:Venqi-S/BlogSource.git</span><br><span class="line">git push -u origin main</span><br><span class="line"></span><br><span class="line"><span class="comment">#…or push an existing repository from the command line</span></span><br><span class="line">git remote add origin git@github.com:Venqi-S/BlogSource.git</span><br><span class="line">git branch -M main</span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure><ul><li>在<code>Wenqi_Blog</code>文件夹下，打开 GitBash<ol><li>运行<code>git init</code></li><li>运行<code>git remote add origin git@github.com:Venqi-S/BlogSource.git</code>进行远程连接</li><li>运行<code>git branch -M main</code>将当前分支改为main，也可以是master</li></ol></li><li>在<code>.github</code>文件夹下创建<code>workflows</code>文件夹，在<code>workflows</code>文件夹下创建<code>deploy.yml</code>文件</li><li>使用 VSCode 打开<code>Wenqi_Blog</code>文件夹，编辑<code>.github\workflows\deploy.yml</code>文件将下面代码复制进去</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 工作流名称：显示在 GitHub Actions 页面</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">Hexo</span> <span class="string">Blog</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 触发条件：当向指定分支 push 时触发</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span>        <span class="comment"># 【可能需要改】如果你的源码分支是 master，这里要改成 master</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="comment"># 运行环境：使用 GitHub 提供的 Ubuntu</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="comment"># Step 1：检出源码仓库（BlogSource）</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">BlogSource</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line">        <span class="comment"># 默认会把当前仓库（BlogSource）的代码拉到 runner 中</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># Step 2：安装 Node.js</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Node.js</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v4</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="number">20</span>     <span class="comment"># 【不建议改】推荐用 LTS（18 / 20），不要用 24，这里的node版本与你下载的版本无关，所以不用改</span></span><br><span class="line">          <span class="attr">cache:</span> <span class="string">npm</span>           <span class="comment"># 启用 npm 缓存，加快 CI 速度</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># Step 3：安装依赖</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">dependencies</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">ci</span></span><br><span class="line">        <span class="comment"># 使用 npm ci 而不是 npm install：</span></span><br><span class="line">        <span class="comment"># - 更快</span></span><br><span class="line">        <span class="comment"># - 严格按照 package-lock.json</span></span><br><span class="line">        <span class="comment"># - 更适合 CI 环境</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># Step 4：构建 Hexo（生成 public 目录）</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Build</span> <span class="string">Hexo</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          npx hexo clean       # 清理缓存和旧的生成文件</span></span><br><span class="line"><span class="string">          npx hexo generate    # 生成静态文件到 ./public</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="comment"># Step 5：部署 public 到 公开仓库</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">公开仓库</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">peaceiris/actions-gh-pages@v4</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">keep_files:</span> <span class="literal">false</span></span><br><span class="line">          <span class="comment"># false = 目标仓库内容将完全以 public 为准</span></span><br><span class="line">          <span class="comment"># 【推荐保持 false】避免删除文章后网页还残留</span></span><br><span class="line"></span><br><span class="line">          <span class="attr">personal_token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.刚才起的Secret的名字</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="comment"># 【可能需要改】</span></span><br><span class="line">          <span class="comment"># secret 名必须和 BlogSource 仓库里设置的一致</span></span><br><span class="line"></span><br><span class="line">          <span class="attr">external_repository:</span> <span class="string">GitHub用户名/目标仓库名</span></span><br><span class="line">          <span class="comment"># 【可能需要改】</span></span><br><span class="line">          <span class="comment"># 格式：GitHub用户名/目标仓库名</span></span><br><span class="line">          <span class="comment"># 这是你的“博客展示仓库（公开仓库）”</span></span><br><span class="line"></span><br><span class="line">          <span class="attr">publish_branch:</span> <span class="string">main</span></span><br><span class="line">          <span class="comment"># 【可能需要改】</span></span><br><span class="line">          <span class="comment"># 如果是 master，就要改成 master</span></span><br><span class="line"></span><br><span class="line">          <span class="attr">publish_dir:</span> <span class="string">./public</span></span><br><span class="line">          <span class="comment"># 【一般不用改】</span></span><br><span class="line">          <span class="comment"># Hexo 默认生成目录就是 public（注意大小写）</span></span><br><span class="line"> <span class="comment"># GitHub 给我写的</span></span><br></pre></td></tr></table></figure><ul><li>在博客根目录下，打开GitBash，依次输入</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#第一次输入</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;first commit&quot;</span></span><br><span class="line">git push -u origin main</span><br><span class="line"></span><br><span class="line"><span class="comment">#以后提交就直接输入</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;提交时的备注&quot;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><ul><li><p>回到<strong>公开仓库</strong>刷新一下，可以看到本地博客文件夹里的<code>pubilc</code>文件夹的内容被推送上来</p><p>Settings &gt; Pages &gt; Branch 选择<code>main/(root)</code> &gt; save</p></li></ul><h3 id="自定义域名访问博客">自定义域名访问博客</h3><ol><li><p>购买一个域名 <a href="https://www.namesilo.com/">Cheap Domain Names &amp; Web Hosting Starting at $0.99!</a></p><p>只要一个 whois 就行，别的付费项目不需要</p></li><li><p>进入 <a href="https://www.cloudflare-cn.com/">随时随地连接、保护和构建 | Cloudflare</a> &gt; 添加域 &gt; 输入刚才买的域名其他保持默认选择 &gt; 点击继续</p></li><li><p>选则免费的，点击继续</p></li><li><p>全部删除，点击继续，然后选择确认</p><p><img src="https://raw.githubusercontent.com/Venqi-S/my_Blog_image/main/20260131220854718.png" alt=""></p><p>进入到下面的界面</p><p><img src="https://raw.githubusercontent.com/Venqi-S/my_Blog_image/main/20260131221512110.png" alt=""></p></li><li><p>返回 NameSilo &gt; 进入个人主页 &gt; 点击manage &gt; 按顺序点击</p><p><img src="https://raw.githubusercontent.com/Venqi-S/my_Blog_image/main/20260131222213366.png" alt=""></p></li><li><p>然后将所有的 NameSever 都删除，把第四步出现的两个 Cloudflare 都粘贴进去，点击submit</p></li><li><p>返回 Cloudflare &gt; 点击我已更新名称服务器 &gt; 刷新一下界面等待成功（大约半个多小时）&gt; 点击刚才添加的域名 &gt; 选择左侧 DNS &gt; 记录</p></li><li><p>打开GitHub 博客的公开仓库 &gt; Settings &gt; Pages &gt; Custom domain &gt; Learn more about configuring custom domains &gt; Manage a custom domain &gt; 找到第五条的八个 IP 地址</p></li><li><p>返回 Cloudflare 添加四个 A 记录和四个 AAAA 记录，名称都写@，且先关闭自动代理状态（方便 GitHub 识别域名的解析），其他保持默认</p><p>把八条解析记录都添加进去</p><blockquote><p>在进行下一步时请看最后的“注2”，将其中的代码加入到<code>.github\workflows\deploy.yml</code> 文件中去，然后和下一步一起 push 上去</p></blockquote></li><li><p>在本地文件<code>_config.yml</code>中修改 url 为<code>https://自己的域名</code>，然后上传至 GitHub</p><p>add &gt; commit &gt; push</p></li><li><p>返回 GitHub 在 Custom domain 填写自己买的域名 &gt; 点击 save</p></li><li><p>最后在 Cloudflare 中把每个记录启用代理，然后稍等一会，就能用自己的新域名访问博客了</p></li></ol><p><strong>注1：</strong></p><p>出现图片中的情况是因为</p><p>网站裸域名 (Apex domain) <code>wqblog.xyz</code> 已经正确指向 GitHub Pages（A/AAAA 记录均已配置），所以 <code>wqblog.xyz</code> 可以正常访问。但 <code>www.wqblog.xyz</code> 在 DNS 中是一个<strong>独立的子域名</strong>，目前没有配置任何记录，导致 GitHub Pages 提示 <code>www.wqblog.xyz is improperly configured</code>。解决方法是在 DNS 中新增一条 <strong>CNAME 记录</strong>，将 <code>www</code> 指向 <code>venqi-s.github.io</code>，使 <code>www.wqblog.xyz</code> 与裸域名同时生效，并由 GitHub Pages 自动处理 HTTPS 和跳转。(ChatGPT 说的)</p><p><img src="https://raw.githubusercontent.com/Venqi-S/my_Blog_image/main/20260201105334256.png" alt=""></p><p>所以返回 Cloudflare ，再添加一个记录</p><p>类型 <code>CNAME</code>， 名称 <code>www</code> ，内容 <code>venqi-s.github.io</code> 上图红框的内容，其他默认</p><p>稍等一会，返回 GitHub 刷新一下就没有警告了</p><p><strong>注2：现在每次提交都需要重新在 pages 页面重新输入域名。因为每次部署都会“覆盖 GitHub Pages 的发布分支”，把 <code>CNAME</code> 文件删掉了，GitHub Pages 就会忘记你的自定义域名，所以每次 push 后都要重新填域名</strong></p><p>解决方法：</p><p>在 <code>.github\workflows\deploy.yml</code> 文件中加入下面一段</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">GitHub</span> <span class="string">Pages</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">peaceiris/actions-gh-pages@v4</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">personal_token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.刚才起的Secret的名字</span> <span class="string">&#125;&#125;</span> </span><br><span class="line">    <span class="comment"># secret 名必须和 BlogSource 仓库里设置的一致</span></span><br><span class="line">    <span class="attr">external_repository:</span> <span class="string">GitHub用户名/目标仓库名</span></span><br><span class="line">    <span class="attr">publish_branch:</span> <span class="string">main</span></span><br><span class="line">    <span class="attr">publish_dir:</span> <span class="string">./public</span></span><br><span class="line">    <span class="attr">cname:</span> <span class="string">购买的域名</span></span><br></pre></td></tr></table></figure><p>然后在 <code>source</code> 文件夹内新建一个 <code>CNAME</code> 文件内容写购买的域名如 <code>wqblog.xyz</code></p><p><strong>作用：</strong></p><ul><li><p>每次部署都会自动写入 <code>CNAME</code></p></li><li><p>就算发布分支被完全覆盖，域名也不会丢</p></li></ul><h2 id="参考链接">参考链接</h2><ol><li><p><a href="https://www.xmdblog.com/posts/70db7d7c.html">Hexo 博客搭建教程 | 小明的部落格</a></p></li><li><p><a href="https://www.bilibili.com/video/BV1URwNetEQ8/?share_source=copy_web&amp;vd_source=6b4b78bf8c8d1209d013b4df59f35fd8">【教程】Hexo 个人博客搭建教程 </a></p></li><li><p><a href="https://www.bilibili.com/video/BV14YxDeCECh/?share_source=copy_web&amp;vd_source=6b4b78bf8c8d1209d013b4df59f35fd8">【保姆】手把手搭建 hexo 博客与自动部署和图床说明</a></p></li><li><p><a href="https://www.bilibili.com/video/BV1fNNreEEDi/?share_source=copy_web&amp;vd_source=6b4b78bf8c8d1209d013b4df59f35fd8">【大学生提高课】3 hexo 与 hugo 博客搭建与 github 自动化推送和服务器推送</a></p></li><li><p><a href="https://www.bilibili.com/video/BV12o4y1K79H/?share_source=copy_web&amp;vd_source=6b4b78bf8c8d1209d013b4df59f35fd8">【Hexo | 02】使用自定义域名访问博客</a></p></li></ol>]]></content>
    
    
    <summary type="html">基于 Hexo 静态博客框架构建，使用 Butterfly 主题进行界面定制，通过 GitHub Actions 实现自动化构建与部署，并结合 GitHub Pages 与自定义域名完成线上发布。</summary>
    
    
    
    <category term="个人博客搭建与写作" scheme="https://wqblog.xyz/categories/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B8%8E%E5%86%99%E4%BD%9C/"/>
    
    
    <category term="hexo" scheme="https://wqblog.xyz/tags/hexo/"/>
    
    <category term="butterfly" scheme="https://wqblog.xyz/tags/butterfly/"/>
    
    <category term="GitHub Actions" scheme="https://wqblog.xyz/tags/GitHub-Actions/"/>
    
  </entry>
  
</feed>
